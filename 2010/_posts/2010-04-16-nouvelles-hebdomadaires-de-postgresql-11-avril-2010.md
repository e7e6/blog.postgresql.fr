---
layout: post
title: "Nouvelles hebdomadaires de PostgreSQL - 11 avril 2010"
author: "NBougain"
redirect_from: "index.php?post/2010-04-16-nouvelles-hebdomadaires-de-postgresql-11-avril-2010 "
---


<p><strong>Les nouveaut&eacute;s des produits d&eacute;riv&eacute;s</strong></p>

<ul>

<li>Versions 1.2.21 et 2.0.3 de Slony1, un syst&egrave;me de r&eacute;plication ma&icirc;tre-esclave en cascade pour PostgreSQL&nbsp;: 

<a target="_blank" href="http://www.slony.info/">http://www.slony.info/</a></li>

<li>Postgre-XC, un cluster synchrone multi-ma&icirc;tres pour PostgreSQL&nbsp;: 

<a target="_blank" href="https://sourceforge.net/projects/postgres-xc/">https://sourceforge.net/projects/postgres-xc/</a></li>

<li>py-postgresql version 1.0, un pilote en pur Python 3 pour PostgreSQL&nbsp;: 

<a target="_blank" href="http://python.projects.postgresql.org/docs/1.0/changes.html">http://python.projects.postgresql.org/docs/1.0/changes.html</a></li>

<li>ODBC-Link 1.0, et ODBC-based database link system&nbsp;: 

<a target="_blank" href="http://www.cybertec.at/en/postgresql_downloads">http://www.cybertec.at/en/postgresql_downloads</a></li>

</ul>

<p><strong>La fonctionnalit&eacute; 9.0 de la semaine</strong></p>

<p>En une seule commande, GRANT et REVOKE peuvent maintenant op&eacute;rer sur les objets avec une port&eacute;e li&eacute;e au sch&eacute;ma. [ndt-exemple&nbsp;: GRANT ... ON ALL TABLES IN SCHEMA monschema TO ...]</p>

<p><strong>Offres d'emplois autour de PostgreSQL en avril</strong></p>

<ul>

<li>Internationales&nbsp;: 

<a target="_blank" href="http://archives.postgresql.org/pgsql-jobs/2010-04/threads.php">http://archives.postgresql.org/pgsql-jobs/2010-04/threads.php</a>;</li>

<li>Francophones&nbsp;: 

<a target="_blank" href="http://forums.postgresql.fr/viewforum.php?id=4">http://forums.postgresql.fr/viewforum.php?id=4</a>.</li>

</ul>

<p><strong>PostgreSQL Local</strong></p>

<ul>

<li>L'appel aux conf&eacute;renciers a &eacute;t&eacute; lanc&eacute; pour CHAR(10) &agrave; Oxford, Angleterre, du 1er au 3 juillet 2010. Les propositions sont attendues avant le 20 avril. 

<a target="_blank" href="http://www.char10.org">http://www.char10.org</a></li>

<li>Bruce Momjian parlera des solutions de r&eacute;plications dans/avec PostgreSQL lors du rassemblement du PUG de New-York le 20 avril de 18h30 &agrave; 20h30 au Penn Plaza. D&eacute;tails et inscriptions ci-apr&egrave;s&nbsp;: 

<a target="_blank" href="http://postgresql.meetup.com/3/calendar/12788352/">http://postgresql.meetup.com/3/calendar/12788352/</a></li>

<li>La "Linuxfest Northwest 2010" aura lieu &agrave; Bellingham, Washington, &Eacute;tats-Unis les 24 et 25 avril. Conf&eacute;rences, r&eacute;unions et m&eacute;c&eacute;nat sont possibles&nbsp;: 

<a target="_blank" href="http://linuxfestnorthwest.org/">http://linuxfestnorthwest.org/</a></li>

<li>Andreas (ads) Scherbaum enseignera au centre pour adultes de Magdeburg (All.) du 3 au 7 mai 2010 sur le sujet "PostgreSQL for Corporate Use". D&eacute;tails ci-apr&egrave;s&nbsp;: 

<a target="_blank" href="http://andreas.scherbaum.la/blog/archives/650-PostgreSQL-Schulung-als-Bildungsurlaub-03.-07.05.2010-in-Magdeburg.html">http://andreas.scherbaum.la/blog/archives/650-PostgreSQL-Schulung-als-Bildungsurlaub-03.-07.05.2010-in-Magdeburg.html</a></li>

<li>La PgCon 2010 aura lieu les 20 &amp; 21 mai 2010 &agrave; Ottawa avec des tutoriels les 18 et 19&nbsp;: 

<a target="_blank" href="http://www.pgcon.org/2010/registration.php">http://www.pgcon.org/2010/registration.php</a></li>

<li>L'appel aux conf&eacute;renciers pour l'OSBridge est lanc&eacute;&nbsp;! L'&eacute;v&eacute;nement aura lieu du 1er au 4 juin 2010 &agrave; Portland (Oregon)&nbsp;: 

<a target="_blank" href="http://opensourcebridge.org/events/2010/proposals/">http://opensourcebridge.org/events/2010/proposals/</a></li>

<li>La "Southeast Linuxfest 2010" aura lieu &agrave; Spartanburg (Caroline du Sud, &Eacute;tats-Unis) les 12 &amp; 13 juin. Participations/r&eacute;unions et m&eacute;c&eacute;nats encore proposables&nbsp;: 

<a target="_blank" href="http://southeastlinuxfest.org/">http://southeastlinuxfest.org/</a></li>

<li>L'OSCON aura lieu &agrave; Portland (Oregon) du 19 au 23 juillet 2010&nbsp;: 

<a target="_blank" href="http://www.oscon.com/oscon2010">http://www.oscon.com/oscon2010</a></li>

</ul>

<p><strong>PostgreSQL dans les m&eacute;dia</strong></p>

<ul>

<li>Planet PostgreSQL&nbsp;: 

<a target="_blank" href="http://planet.postgresql.org/">http://planet.postgresql.org/</a></li>

<li>Planet PostgreSQLFr&nbsp;: 

<a target="_blank" href="http://planete.postgresql.fr/">http://planete.postgresql.fr/</a></li>

</ul>

<p><i>PostgreSQL Weekly News / les nouvelles hebdomadaires vous sont offertes cette semaine par David Fetter. Traduction par l'&eacute;quipe PostgreSQLFr sous licence CC BY-NC-SA.</i></p>

<p><i>Proposez vos articles ou annonces avant dimanche 15:00 (heure du Pacifique). Merci de les envoyer en anglais &agrave; david (a) fetter.org, en allemand &agrave; pwn (a) pgug.de, en italien &agrave; pwn (a) itpug.org.</i></p>

<p>(<a target="_blank" href="http://www.postgresql.org/community/weeklynews/pwn20100411">lien vers l'article original</a>)</p>

<!--more-->


<p><strong>Correctifs appliqu&eacute;s</strong></p>

<p>ITAGAKI Takahiro a commit&eacute;&nbsp;:</p>

<ul>

<li>Assorted tab-completion improvements in psql. Added missing completions for ALTER SEQUENCE name OWNER TO, ALTER TYPE name RENAME TO, ALTER VIEW name ALTER COLUMN, ALTER VIEW name OWNER TO, and ALTER VIEW name SET SCHEMA. Fix wrong completions for ALTER FUNCTION/AGGREGATE name (arguments) where the "arguments" part was ignored, and ALTER ... SET SCHEMA, where "SCHEMA" was considered to be a variable name.</li>

<li>In pgsql/src/bin/pg_ctl/pg_ctl.c, add cygwin version check before using cygwin_conv_path(), and use cygwin_conv_to_full_win32_path() in older versions.</li>

<li>In pgsql/src/bin/psql/tab-complete.c, psql tab completion for ALTER DEFAULT PRIVILEGES and USER MAPPING FOR PUBLIC.</li>

</ul>

<p>Bruce Momjian a commit&eacute;&nbsp;:</p>

<ul>

<li>In pgsql/doc/src/sgml/ddl.sgml, reword exclusion constriants to mention that the operator can return false or null, per Tom.</li>

</ul>

<p>Simon Riggs a commit&eacute;&nbsp;:</p>

<ul>

<li>Change some debug ereports to elogs, as requested by translation team.</li>

<li>In pgsql/src/backend/access/transam/xlog.c, further message changes when recovery.conf parameters missing.</li>

</ul>

<p>Heikki Linnakangas a commit&eacute;&nbsp;:</p>

<ul>

<li>In pgsql/src/backend/access/transam/recovery.conf.sample, rename "Log-streaming replication parameters" header to "Standby server parameters" in recovery.conf, to match the grouping in the documentation. Fujii Masao.</li>

<li>Forbid using pg_xlogfile_name() and pg_xlogfile_name_offset() during recovery. We might want to relax this in the future, but ThisTimeLineID isn't currently correct in backends during recovery, so the filename returned was wrong. Fujii Masao.</li>

<li>Allow quotes to be escaped in recovery.conf, by doubling them. This patch also makes the parsing a little bit stricter, rejecting garbage after the parameter value and values with missing ending quotes, for example.</li>

</ul>

<p>Magnus Hagander a commit&eacute;&nbsp;:</p>

<ul>

<li>In pgsql/src/timezone/pgtz.c, log the actual timezone name that we fail to look up the values for in case the registry data doesn't follow the format we expect, to facilitate debugging.</li>

<li>In pgsql/src/timezone/pgtz.c, proceed to look for the next timezone when matching a localized Windows timezone name where the information in the registry is incomplete, instead of aborting. This fixes cases when the registry information is incomplete for a timezone that is alphabetically before the one that is in use. Per report from Alexander Forschner</li>

<li>In pgsql/src/timezone/pgtz.c, update list of Windows timezones we try to match localized names against to one that's up to date with Windows 2003R2.</li>

<li>In pgsql/src/timezone/pgtz.c, clean up inconsistent commas.</li>

<li>Perltidy run over the MSVC build system files, to clean up code formatting and indentation styles.</li>

</ul>

<p>Tom Lane a commit&eacute;&nbsp;:</p>

<ul>

<li>Fix to_char YYY, YY, Y format codes so that FM zero-suppression really works, rather than only sort-of working as the previous attempt had left it. Clean up some unnecessary differences between the way these were coded and the way the YYYY case was coded. Update the regression test cases that proved that it wasn't working.</li>

</ul>

<p>Robert Haas a commit&eacute;&nbsp;:</p>

<ul>

<li>Make smart shutdown work in combination with Hot Standby/Streaming Replication. At present, killing the startup process does not release any locks it holds, so we must wait to stop the startup and walreceiver processes until all read-only backends have exited. Without this patch, the startup and walreceiver processes never exit, so the server gets permanently stuck in a half-shutdown state. Fujii Masao, with review, docs, and comment adjustments by me.</li>

</ul>

<p><strong>Correctifs rejet&eacute;s (&agrave; ce jour)</strong></p>

<ul>

<li>Pas de d&eacute;ception cette semaine&nbsp;:-)</li>

</ul>

<p><strong>Correctifs en attente</strong></p>

<ul>

<li>Simon Riggs sent in two revisions of a patch to downgrade a FATAL message to a WARNING for hot standby when primary_conninfo or restore_command are left out.</li>

<li>Greg Sabino Mullane sent in a patch to show schema name for each table when REINDEX DATABASE is called.</li>

<li>Simon Riggs sent in a patch for Hot Standby to recover prepared transactions when starting up from shutdown.</li>

<li>Heikki Linnakangas sent in a patch to add signaling between walreceiver and startup process.</li>

<li>Heikki Linnakangas sent in a patch to keep a variable in shared memory to track the latest removed WAL segment. This can help with streaming replication in the case of a "disk full" condition on the primary.</li>

<li>Heikki Linnakangas sent in a patch to fix unsafe threading for syslogger on Windows.</li>

<li>Simon Riggs and Heikki Linnakangas traded patches to fix the issue where Hot Standby doesn't work right with shutdowns at an inopportune moment.</li>

<li>Jaime Casanova sent in a WIP patch to fix "make standbycheck".</li>

</ul>